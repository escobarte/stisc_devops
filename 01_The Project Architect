              ğŸŒ Public IP: 185.108.183.205
                         â”‚
                         â–¼
                  VIP: 10.100.93.2 (Keepalived)
                   â”‚               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                                     â–¼
    Prx01 (93.3)   <--unicast-->          Prx02 (93.4)
        â”‚                                     â”‚
        â””â”€â”€â”€â”€â”€â”€â†’ Ğ±Ğ°Ğ»Ğ°Ğ½ÑĞ¸Ñ€Ğ¾Ğ²ĞºĞ° Ğ½Ğ° Laravel â†“â”€â”€â”€â”€â”˜
                   â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”
                   â–¼     â–¼     â–¼
                App01  App02  App03 (Zabbix)
                            â”‚
                            â–¼
                         DB01 (93.8)
                 â†’ MySQL (Laravel) + PostgreSQL (Zabbix) + DNS




ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚Ñƒ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°.
Public IP 									/ 185.108.183.205 <-	/VIP 10.100.93.2
Prx01 / Nginx								/ 10.100.93.3	  ->	/VIP 10.100.93.2
Prx02 / Nginx								/ 10.100.93.4	  ->	/VIP 10.100.93.2
App01 / Laravel 							/ 10.100.93.5
App02 / Laravel 							/ 10.100.93.6
App03 / Laravel / Psql-Zabbix				/ 10.100.93.7
DB01  / MySQL-Larave / Psql-Zabbix / DNS     / 10.100.93.8		/DNS -> app.lab.local


------------------------------
LVM

PHP and modules
Laravel
Composer
Artisan
Apache2
a2dissite ?

MySql

NGINX
Upstream = Loadbalancer

Keepalived=Unicast

Bind9/named 
Apparmour

HTTPS (Slef-Signed SSL)

IPTABLES Rules

Zabbix
Psql
---------------------------------
âœ… Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ğ»Ğ¸ ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ? â€” Ğ”Ğ°, Ñ‡Ğ°ÑÑ‚Ğ¸Ñ‡Ğ½Ğ¾.
Ğ§Ñ‚Ğ¾	ĞœĞ¾Ğ¶Ğ½Ğ¾ Ğ»Ğ¸ ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ğ¸Ğ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ?	ĞšĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¹
MySQL (Laravel)	âœ… Ğ”Ğ°	MySQL Replication / Galera Cluster
PostgreSQL (Zabbix)	âœ… Ğ”Ğ°	Streaming Replication + Patroni
Zabbix	âš  Ğ§Ğ°ÑÑ‚Ğ¸Ñ‡Ğ½Ğ¾	Ğ¡Ğ°Ğ¼ Zabbix Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ Ñ ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ğ° PostgreSQL
DNS (BIND)	âš  Ğ ÑƒÑ‡Ğ½Ğ¾Ğ¹ failover	ĞœĞ¾Ğ¶Ğ½Ğ¾ ÑĞ´ĞµĞ»Ğ°Ñ‚ÑŒ Master/Slave, Ğ½Ğ¾ Ñ€ĞµĞ´ĞºĞ¾ Ğ½ÑƒĞ¶Ğ½Ğ¾
Laravel backend	âœ… Ğ£Ğ¶Ğµ ĞºĞ»Ğ°ÑÑ‚ĞµÑ€ (App01â€“03 + LB)	ĞÑ‚Ğ»Ğ¸Ñ‡Ğ½Ğ¾ ÑĞ´ĞµĞ»Ğ°Ğ½Ğ¾
---------------------------------
ğŸ§± ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ³Ğ¸Ğ±Ñ€Ğ¸Ğ´Ğ½Ğ¾Ğ¹ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹ (Ñ€ĞµĞ°Ğ»Ğ¸ÑÑ‚Ğ¸Ñ‡Ğ½Ñ‹Ğ¹):
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘     KUBERNETES   â•‘
â•‘ - Laravel Apps   â•‘
â•‘ - Zabbix Server  â•‘
â•‘ - Prometheus     â•‘
â•‘ - Grafana        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        â”‚
        â–¼
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘     ĞŸÑ€Ğ¾ĞºÑĞ¸ (VIP)   â•‘
â•‘  Prx01/Prx02 NGINX â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        â”‚
        â–¼
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘     DB01 (bare OS) â•‘
â•‘ - MySQL            â•‘
â•‘ - PostgreSQL       â•‘
â•‘ - DNS              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•